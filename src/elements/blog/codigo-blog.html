<template>
  <import from="../blog-tags/codigo-blog-tags"></import>

  <div class="codigo__blog-header">
    <h2>
      Blog
    </h2>
    <input placeholder="Suchen ..." value.bind="search & debounce:600" />
  </div>  
  <p if.bind="postResult">
    Mein Blog befindet sich unter <a href="https://wp.codigo.at" target="_blank">https://wp.codigo.at</a> und hat aktuell ${postResult.totalPosts} Beiträge. Nachfolgend werden die zuletzt erstellten Einträge angezeigt.
  </p>
  <div>
    <codigo-blog-tags></codigo-blog-tags>
  </div>
  <div class="codigo__blog-list">
    <template repeat.for="post of posts">
      <div class="codigo__blog-item">
        <div class="codigo__blog-item__header">
          <div class="codigo__blog-item__title">
            <a href.bind="post.link" target="_blank">${post.title.rendered}</a>  
          </div>
          <div class="codigo__blog-item__date">
            <i class="fas fa-clock"></i> ${post.date | dateToString}
          </div>
        </div>
        <div innerhtml.bind="post.content.rendered">
        </div>
      </div>
    </template>
  </div>
  <div if.bind="showLoadMore">
    <button click.delegate="onLoadMoreClick()" disabled.bind="isLoading">Weitere Posts laden</button>
  </div>
</template>